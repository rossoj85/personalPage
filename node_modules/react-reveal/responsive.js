"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function responsive(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{breakpoint:"768px"},i=t.effect,r=t.breakpoint,s=void 0===r?"768px":r,a=((0,_objectWithoutProperties3.default)(t,["effect","breakpoint"]),(0,_withReveal2.default)(e,i));return function(e){function t(e){(0,_classCallCheck3.default)(this,t);var i=(0,_possibleConstructorReturn3.default)(this,(t.__proto__||(0,_getPrototypeOf2.default)(t)).call(this,e));return i.mql=!1,i.handleChange=i.handleChange.bind(i),i.handleClick=i.handleClick.bind(i),i.state={match:!0,isClicked:!1},i}return(0,_inherits3.default)(t,e),(0,_createClass3.default)(t,[{key:"handleChange",value:function(e){this.setState({match:e.matches,isClicked:!1})}},{key:"handleClick",value:function(){this.setState({isClicked:!this.state.isClicked})}},{key:"newQuery",value:function(e){this.unlisten(),"matchMedia"in window&&(this.mql=window.matchMedia("(min-width: "+s+")"),this.handleChange(this.mql),this.mql.addListener(this.handleChange))}},{key:"unlisten",value:function(){this.mql&&this.mql.removeListener(this.handleChange)}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"componentDidMount",value:function(){this.newQuery(this.props.query)}},{key:"componentWillReceiveProps",value:function(e){var t=e.query;this.newQuery(t)}},{key:"render",value:function(){return _react2.default.createElement(a,(0,_extends3.default)({},this.props,{belowBreakpoint:!this.state.match,toggle:this.handleClick,isToggled:this.state.isClicked,collapse:!this.state.match,disabled:this.props.disableAboveBreakpoint&&this.state.match,when:this.state.match||this.state.isClicked,collapseOnly:!this.state.match}))}}]),t}(_react2.default.Component)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=require("babel-runtime/helpers/extends"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),_objectWithoutProperties2=require("babel-runtime/helpers/objectWithoutProperties"),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_react=require("react"),_react2=_interopRequireDefault(_react),_withReveal=require("./withReveal"),_withReveal2=_interopRequireDefault(_withReveal);exports.default=responsive,module.exports=exports.default;